(this["webpackJsonpaviasales-app_0.1"]=this["webpackJsonpaviasales-app_0.1"]||[]).push([[0],{16:function(e,t,c){e.exports={container:"App_container__3pHE7","tickets-info":"App_tickets-info__3fvnT"}},18:function(e,t,c){e.exports={"ticket-list":"TicketList_ticket-list__piWDb"}},2:function(e,t,c){e.exports={ticket:"Ticket_ticket__1U3TE",ticket__price:"Ticket_ticket__price__iMgjH","ticket__img-container":"Ticket_ticket__img-container__3VqbJ","ticket-item__param":"Ticket_ticket-item__param__2vbGa","ticket-item__value":"Ticket_ticket-item__value__2hExt"}},3:function(e,t,c){e.exports={filters:"Filters_filters__3XegU",filters__set:"Filters_filters__set__2IvWl","filters__set-title":"Filters_filters__set-title__QX4si","filters__check-label":"Filters_filters__check-label__3KK2B","filters__hidden-box":"Filters_filters__hidden-box__2etet","filters__visible-check":"Filters_filters__visible-check__SVvoW","filters__visible-checked":"Filters_filters__visible-checked__3jinE"}},35:function(e,t,c){"use strict";c.r(t);var a={};c.r(a),c.d(a,"all",(function(){return O})),c.d(a,"none",(function(){return x})),c.d(a,"one",(function(){return N})),c.d(a,"two",(function(){return v})),c.d(a,"three",(function(){return g})),c.d(a,"cheap",(function(){return y})),c.d(a,"notCheap",(function(){return T})),c.d(a,"setSearchId",(function(){return E})),c.d(a,"setTickets",(function(){return A})),c.d(a,"getSearchId",(function(){return C})),c.d(a,"getTickets",(function(){return F}));var n=c(0),s=c(1),i=c(11),r=c.n(i),l=c(5),o=c(19),_=c(4),u=c(21),b={filter:{checkAll:!1,check0:!1,check1:!1,check2:!1,check3:!1},searchId:null,tickets:[],tabCheap:!0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,c=Object(u.a)({},e);switch(!0){case"TICKETS"===t.type:return c.tickets=t.payload,c;case"SEARCH_ID"===t.type:return c.searchId=t.payload,c;case"ALL"===t.type&&c.filter.checkAll:for(var a in c.filter)a&&(c.filter[a]=!1);return c;case"ALL"===t.type:for(var n in c.filter)n&&(c.filter[n]=!0);return c;case"NONE"===t.type:return c.filter.checkAll=!1,c.filter.check0=!c.filter.check0,c;case"ONE"===t.type:return c.filter.checkAll=!1,c.filter.check1=!c.filter.check1,c;case"TWO"===t.type:return c.filter.checkAll=!1,c.filter.check2=!c.filter.check2,c;case"THREE"===t.type:return c.filter.checkAll=!1,c.filter.check3=!c.filter.check3,c;case"CHEAP"===t.type:return c.tabCheap=!0,c;case"NOT_CHEAP"===t.type:return c.tabCheap=!1,c;default:return e}},h=c(16),f=c.n(h),d=c(9),p=c.n(d),k=c(17),m=c(22),O=function(){return{type:"ALL"}},x=function(){return{type:"NONE"}},N=function(){return{type:"ONE"}},v=function(){return{type:"TWO"}},g=function(){return{type:"THREE"}},y=function(){return{type:"CHEAP"}},T=function(){return{type:"NOT_CHEAP"}},E=function(e){return{type:"SEARCH_ID",payload:e}},A=function(e){return{type:"TICKETS",payload:e}},C=function(){return function(){var e=Object(k.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://front-test.beta.aviasales.ru/search");case 2:return c=e.sent,e.next=5,c.json();case 5:return c=e.sent,t(E(c.searchId)),e.abrupt("return",c.searchId);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(k.a)(p.a.mark((function t(c){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:a=t.sent,n=a.tickets.map((function(e){return e.id=Object(m.a)(),e})),c(A(n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=c(6),w=c(8),I=c.n(w),S=c(7),H=c.n(S),L=Object(_.b)((function(e){return{tabCheap:e.tabCheap}}),a)((function(e){var t=e.tabCheap,c=e.cheap,a=e.notCheap,s=I()(H.a["tabs-buttons"],Object(D.a)({},H.a["tabs-buttons_selected"],t)),i=I()(H.a["tabs-buttons"],Object(D.a)({},H.a["tabs-buttons_selected"],!t));return Object(n.jsxs)("div",{className:H.a["tabs-container"],children:[Object(n.jsx)("button",{className:s,type:"button",onClick:c,children:"\u0421\u0410\u041c\u042b\u0419 \u0414\u0415\u0428\u0401\u0412\u042b\u0419"}),Object(n.jsx)("button",{className:i,type:"button",onClick:a,children:"\u0421\u0410\u041c\u042b\u0419 \u0411\u042b\u0421\u0422\u0420\u042b\u0419"})]})})),M=c(10),P=c(18),R=c.n(P),W=c(2),X=c.n(W),J=c.p+"static/media/S7Logo.cafb13c3.svg",K=function(e){var t=e.ticketToData,c=e.ticketFromData,a=e.price,s=function(e){return e<10?"0".concat(e):e},i=function(e){var t=e/60,c=Math.floor(t),a=60*(t-c),n=Math.round(a);return"".concat(s(c),"\u0447 ").concat(s(n),"\u043c")},r=function(e){return 1===e.length?"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":0===e.length?"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},l=function(e,t){var c=new Date(e).getHours(),a=new Date(e).getMinutes(),n=Date.parse(new Date(e))+1e3*t*60,i=new Date(n).getHours(),r=new Date(n).getMinutes();return"".concat(s(c),":").concat(s(a)," - ").concat(s(i),":").concat(s(r))};return Object(n.jsxs)("ul",{className:X.a.ticket,type:"none",children:[Object(n.jsx)("li",{className:X.a.ticket__price,children:Object(n.jsx)("p",{children:"".concat(a," \u0420")})}),Object(n.jsx)("li",{className:X.a["ticket__img-container"],children:Object(n.jsx)("img",{className:X.a.ticket__img,src:J,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:t.toAndFrom}),Object(n.jsx)("p",{className:X.a["ticket-item__value"],children:l(t.date,t.timeToFly)})]}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:"\u0412 \u041f\u0423\u0422\u0418"}),Object(n.jsx)("p",{className:"ticket-item__value",children:i(t.timeToFly)})]}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:"".concat(t.transfers.length," ").concat(r(t.transfers))}),Object(n.jsx)("p",{className:X.a["ticket-item__value"],children:t.transfers.join(" ,")})]}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:c.toAndFrom}),Object(n.jsx)("p",{className:X.a["ticket-item__value"],children:l(c.date,c.timeToFly)})]}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:"\u0412 \u041f\u0423\u0422\u0418"}),Object(n.jsx)("p",{className:X.a["ticket-item__value"],children:i(c.timeToFly)})]}),Object(n.jsxs)("li",{className:X.a["ticket-item"],children:[Object(n.jsx)("p",{className:X.a["ticket-item__param"],children:"".concat(c.transfers.length," ").concat(r(c.transfers))}),Object(n.jsx)("p",{className:X.a["ticket-item__value"],children:c.transfers.join(",")})]})]})},V=Object(_.b)((function(e){return{tickets:e.tickets}}))((function(e){var t=e.tickets,c=function(e){var t=e.toString();if(+t>=1e5){var c=(t=t.split("")).splice(0,3);return(t=[].concat(Object(M.a)(c),[" "],Object(M.a)(t))).join("")}if(+t>=1e4){var a=(t=t.split("")).splice(0,2);return(t=[].concat(Object(M.a)(a),[" "],Object(M.a)(t))).join("")}return e},a=t.map((function(e){var t={carier:e.carier,id:e.id,price:c(e.price),ticketToData:{toAndFrom:"".concat(e.segments[0].origin," - ").concat(e.segments[0].destination),date:e.segments[0].date,timeToFly:e.segments[0].duration,transfers:e.segments[0].stops},ticketFromData:{toAndFrom:"".concat(e.segments[1].origin," - ").concat(e.segments[1].destination),date:e.segments[0].date,timeToFly:e.segments[1].duration,transfers:e.segments[1].stops}};return Object(n.jsx)(K,{carier:t.carier,ticketToData:t.ticketToData,ticketFromData:t.ticketFromData,price:t.price},t.id)}));return Object(n.jsx)("ul",{className:R.a["ticket-list"],type:"none",children:Object(n.jsx)("li",{className:R.a["ticket-list__item"],children:a})})})),U=c(3),B=c.n(U),q=Object(_.b)((function(e){return{checkAll:e.filter.checkAll,check0:e.filter.check0,check1:e.filter.check1,check2:e.filter.check2,check3:e.filter.check3}}),a)((function(e){var t=e.checkAll,c=e.check0,a=e.check1,s=e.check2,i=e.check3,r=e.all,l=e.none,o=e.one,_=e.two,u=e.three,b=function(e){return I()(B.a["filters__visible-check"],Object(D.a)({},B.a["filters__visible-checked"],e))};return Object(n.jsx)("form",{className:B.a.filters,children:Object(n.jsxs)("fieldset",{className:B.a.filters__set,children:[Object(n.jsx)("legend",{className:B.a["filters__set-title"],children:"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"}),Object(n.jsxs)("label",{className:B.a["filters__check-label"],children:[Object(n.jsx)("input",{className:B.a["filters__hidden-box"],type:"checkbox",name:"all",id:"",onClick:r}),Object(n.jsx)("span",{className:b(t)}),Object(n.jsx)("p",{children:"\u0412\u0441\u0435"})]}),Object(n.jsxs)("label",{className:B.a["filters__check-label"],children:[Object(n.jsx)("input",{className:B.a["filters__hidden-box"],type:"checkbox",name:"all",id:"",onClick:l}),Object(n.jsx)("span",{className:b(c)}),Object(n.jsx)("p",{children:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"})]}),Object(n.jsxs)("label",{className:B.a["filters__check-label"],children:[Object(n.jsx)("input",{className:B.a["filters__hidden-box"],type:"checkbox",name:"all",id:"",onClick:o}),Object(n.jsx)("span",{className:b(a)}),Object(n.jsx)("p",{children:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"})]}),Object(n.jsxs)("label",{className:B.a["filters__check-label"],children:[Object(n.jsx)("input",{className:B.a["filters__hidden-box"],type:"checkbox",name:"all",id:"",onClick:_}),Object(n.jsx)("span",{className:b(s)}),Object(n.jsx)("p",{children:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]}),Object(n.jsxs)("label",{className:B.a["filters__check-label"],children:[Object(n.jsx)("input",{className:B.a["filters__hidden-box"],type:"checkbox",name:"all",id:"",onClick:u}),Object(n.jsx)("span",{className:b(i)}),Object(n.jsx)("p",{children:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]})]})})})),G=c.p+"static/media/Logo.8bb77c6b.svg",Q=Object(_.b)(null,(function(e){var t=Object(l.b)(a,e);return{getSearchId:t.getSearchId,getTickets:t.getTickets}}))((function(e){var t=e.getSearchId,c=e.getTickets;return Object(s.useEffect)((function(){t().then((function(e){c(e)}))}),[t,c]),Object(n.jsxs)("div",{className:f.a.container,children:[Object(n.jsx)("header",{children:Object(n.jsx)("img",{className:"logo",src:G,alt:"\u0410\u0432\u0438\u0430\u0441\u044d\u0439\u043b\u0441 \u043b\u043e\u0433\u043e"})}),Object(n.jsxs)("main",{children:[Object(n.jsx)(q,{}),Object(n.jsxs)("section",{className:f.a["tickets-info"],children:[Object(n.jsx)(L,{}),Object(n.jsx)(V,{}),Object(n.jsx)(V,{})]})]})]})})),Y="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,z=Object(l.d)(j,Y(Object(l.a)(o.a)));r.a.render(Object(n.jsx)(_.a,{store:z,children:Object(n.jsx)(Q,{})}),document.getElementById("root"))},7:function(e,t,c){e.exports={"tabs-container":"Tabs_tabs-container__3Y2h5","tabs-buttons":"Tabs_tabs-buttons__3Vn2X","tabs-buttons_selected":"Tabs_tabs-buttons_selected__gfJ5N"}}},[[35,1,2]]]);
//# sourceMappingURL=main.dcc1d085.chunk.js.map